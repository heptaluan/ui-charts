<div class="d-flex flex-column right-container">

  <div class="chart-setting-content">

    <!-- 锁定组件 -->
    <lx-elements-locked
      [block]="newBlock"
      [projectId]="projectId"
      [pageId]="curPageId"
      [type]="'isChart'"
    ></lx-elements-locked>

    <!-- 对齐组件 -->
    <lx-elements-aligned
      *ngIf="projectType === 'infographic'"
      [block]="newBlock"
      [projectId]="projectId"
      [pageId]="curPageId"
    ></lx-elements-aligned>

    <div class="toggle-chart">
      <div class="over-layout panel-shadow d-flex justify-content-center align-items-center">
        <button class="dy-button" (click)="showToggleChart($event)"></button>
      </div>
      <div class="chart-type">
        <h4>切换图表</h4>
        <img src="{{newBlock.thumb}}" alt="cover">
        <p>{{newBlock.title}}</p>
      </div>
    </div>

    <div class="section" *ngIf="projectType !== 'chart'">
      <!-- 尺寸组件 -->
      <!-- <lx-settings-size [locked]="sizeLock" [value0]="height" [value1]="width" [value2]="rotate" [ratio]="ratio"
        [max0]=10000 [min0]=1 [max1]=6000 [min1]=1 [max2]=360 [max2]=0 (onChanged)="onSizeChanged($event)">
      </lx-settings-size> -->
      <lx-settings-size [locked]="sizeLock" [value0]="height" [value1]="width" [value2]="rotate" [ratio]="ratio"
        [max0]=15000 [min0]=1 [max1]=6000 [min1]=1 [max2]=360 [max2]=0 [title0]="''" [title1]="''" [title2]="''"
        [letter1]="'W'" [letter0]="'H'" [letter2]="'°'" (onChanged)="onSizeChanged($event)"></lx-settings-size>
    </div>

    <!-- 单图专用的一些配置项（单图画布设置集成到图表编辑当中了） -->
    <div class="sing-chart-setting" *ngIf="projectType === 'chart'">

      <!-- 主题 -->
      <div class="theme-list">
        <div class="small-title">主题</div>
        <lx-settings-dropdowns [values]='themeListTypes' [index]='themeListIndex'
          (onChanged)="themeListChanged($event)">
        </lx-settings-dropdowns>
      </div>


      <div class="page-size d-flex line">
        <div class="small-title bottom-0">画布宽高</div>
        <!-- 宽高 -->
        <lx-settings-size [locked]="!!design.ratio" [value0]="design.height" [value1]="design.width"
          [ratio]="design.ratio" [max0]=15000 [min0]=300 [max1]=6000 [min1]=300 [pageSetting]="true" [title0]="''"
          [title1]="''" (onChanged)="onChartPageSizeChanged($event)"></lx-settings-size>
      </div>

      <!-- 画布颜色 -->
      <div class="change-page-color">
        <span>画布颜色</span>
        <lx-color-list [clickPosition]="'bgColor'" class="left-16" [isOpacityShow]="false" [themColorList]=newBlock.theme.colors
          [colorSeleced]="design.backgroundColor" (onChanged)="onChartPageEventHandle($event)"></lx-color-list>
      </div>

      <!-- 推荐配置 -->
      <div class="chart-config line">
        <div class="mobile" (click)="handleChangeBlockStyle('mobile')">
          <i></i><span>手机</span>
        </div>
        <div class="pc" (click)="handleChangeBlockStyle('pc')">
          <i></i><span>电脑</span>
        </div>
      </div>

    </div>

    <div class="sing-chart-setting info" *ngIf="projectType !== 'chart'">
      <!-- 推荐配置 -->
      <div class="chart-config line">
        <div class="mobile" (click)="handleChangeBlockStyle('mobile')">
          <i></i><span>手机</span>
        </div>
        <div class="pc" (click)="handleChangeBlockStyle('pc')">
          <i></i><span>电脑</span>
        </div>
      </div>
    </div>

    <accordion closeOthers="true" class="boleft">

      <!-- 动态图表的动画 -->
      <div class="accordion-box" *ngIf="showDynamicChartAnimation"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-animate-unfolded'])">

        <div accordion-heading class="accordion-heading" tooltip="设置图表动态效果或GIF属性" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title">动画</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>

        <div class="accordion-content">
          <lx-process [min]=0 [data]="animationData" [max]="animationData.length" [time]="animationData.length"
            [startTime]="startTime" [endTime]="endTime" [step]=1 [cur]='0'
            [animationTimeInterval]="animationTimeInterval" (InputChangeValue)="handleProceeChange($event)"
            (ButtonClick)="handleButtonClick($event)" (clearD3ChartTimer)="handleClearD3ChartTimer($event)"
            (timeEndRender)="handleTimeEndRender($event)"></lx-process>

          <div class="theme-list animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div style="margin-left: 0;" class="small-title left-20">间隔时间（秒）<span title="动画的间隔时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.timerControl.frameDuration"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeDynamicChartFrameDuration($event)"></lx-slider>
          </div>

          <div class="line top-15 animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}"
            *ngIf="newBlock.templateId !== '8000000011111111002' && newBlock.templateId !== '8000000011111111003'">
            <div style="margin-left: 0;" class="small-title left-20">切换时间（秒）<span title="动画的切换时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1
              [cur]="animationRankmoveTransitionDuraion[0][animationRankmoveTransitionDuraion[0].length - 1]"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeDynamicChartRankmoveTransitionDuraion($event)"></lx-slider>
          </div>

          <div class="line top-15 animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div style="margin-left: 0;" class="small-title left-20">开始延迟（秒） <span title="动画开始前的等待时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.animation.startDelay"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeChartAnimationStartDelay($event)"></lx-slider>
          </div>

          <div class="line top-15 animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div style="margin-left: 0;" class="small-title left-20">结束延迟（秒） <span title="动画结束后的停滞时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.animation.endPause"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeChartAnimationEndPause($event)"></lx-slider>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('dynamic-chart')">
            恢复默认设置
          </div>

        </div>
      </div>

      <!-- 映射 -->
      <accordion-group panelClass="accordion-container" *ngIf="isShowMapPanel"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-mappings-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="数据指标与图表显示的关联" container="body"
          containerClass="customClass" placement="left">
          <div class="accordion-heading-title">映射</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <!-- 非 cross -->
          <ng-container *ngIf="!isCrossChart; else crossTemplate;">
            <div *ngFor="let item of newBlock.props.map[0]; let i = index;let first = first">
              <div class="theme-list {{first?'':'top-15'}}">
                <div class="small-title">{{item.name}}</div>
                <!-- 分组气泡图，圆堆积图，散点图等有空值单独处理 -->
                <ng-container *ngIf="isNullItemMap; else dropDownTemplate;">
                  <lx-settings-dropdowns [id]="newBlock.templateId" [listIndex]="i" [values]='mapDropdownLists'
                    [(index)]='item.index === null ? (mapDropdownLists.length - 1) : item.index'
                    (onChanged)="onDropDownChanged(item.name, $event)"></lx-settings-dropdowns>
                </ng-container>
                <ng-template #dropDownTemplate>
                  <lx-settings-dropdowns [values]='mapDropdownLists' [(index)]='item.index'
                    (onChanged)="onDropDownChanged(item.name, $event)"></lx-settings-dropdowns>
                </ng-template>
              </div>
            </div>
          </ng-container>
          <!-- cross -->
          <ng-template #crossTemplate>
            <!-- 非折柱混合 -->
            <ng-container *ngIf="!isBarLineChart; else barLineMapTempalate">
              <div class="small-title">{{xMapName}}</div>
              <div class="map-list">
                <div class="checked-box">
                  <lx-checkbox id="map-list" [disabled]="true"></lx-checkbox>
                  <label for="map-list">{{xMapList}}</label>
                </div>
              </div>
              <div class="small-title top-20">{{yMapName}}</div>
              <div class="map-list" *ngFor="let item of yMapList;">
                <div class="checked-box">
                  <ng-container>
                    <lx-checkbox id="map-{{item.index}}" [(checked)]="item.checked" (change)="changeMapList(item)">
                    </lx-checkbox>
                  </ng-container>
                  <label (click)="changeMapList(item)">{{item.name}}</label>
                </div>
              </div>
            </ng-container>
            <!-- 折柱混合 -->
            <ng-template #barLineMapTempalate>
              <div *ngFor="let item of lineBarDropdownList; let i = index;let first = first">
                <div class="theme-list {{first?'':'top-15'}}">
                  <div class="small-title">{{item.name}}</div>

                  <lx-settings-dropdowns  [index]="item.show ? 0 : 1" [values]='barLineChartLists'

                    (onChanged)="lineBarDropDownChanged($event,i)"></lx-settings-dropdowns>

                </div>
              </div>
            </ng-template>
          </ng-template>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('map')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 标题（词云图和多轴气泡图无标题配置项） -->
      <accordion-group panelClass="accordion-container" *ngIf="showTitleSettings"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-title-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="设置图表标题" container="body" containerClass="customClass"
          placement="left">
          <div container="body" class="accordion-heading-title">标题</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <div class="line">
            <lx-checkbox class="switch" [checked]="showBlockTitle" (change)="titleSwitch($event)"></lx-checkbox>
            <div class="small-title">标题显示</div>
            <input type="text" class="form-control" [ngClass]="{'hidden': !showBlockTitle}" [value]='titleText'
              (change)='changeTitleName($event)'>
          </div>

          <div class="title-show line" [ngClass]="{'display-none': !showBlockTitle}">
            <lx-settings-dropdowns [values]='titleFamilyList' [index]='titleFamilyIndex' [loadFont]="true" [firstSize]="24"
              (onChanged)='changeTitleFontFamily($event)'></lx-settings-dropdowns>
            <lx-color-list class="left-8" [isOverflow]="true" [themColorList]=newBlock.theme.colors
              [colorSeleced]="titleColor" (onChanged)="changeTitleColor($event)"></lx-color-list>
          </div>

          <div class="title-font line" [ngClass]="{'display-none': !showBlockTitle}">
            <div class="font-size">
              <lx-slider [min]=12 [max]=300 [step]=1 [cur]='titleSize' (valueBlurChanged)="handleValueBlurChanged(60)" (valueChanged)="changeTitleFontSize($event)">
              </lx-slider>
            </div>

            <lx-settings-dropdowns [values]='titlePosList' [index]='titlePos' (onChanged)="changeTitlePos($event)">
            </lx-settings-dropdowns>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn" (click)="resetHandle('title')">
            恢复默认设置
          </div>

        </div>
      </accordion-group>

      <!-- 附加信息 （旧文字）（词云图无）-->
      <accordion-group panelClass="accordion-container"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-text-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="设置单位、数据来源、出品方等属性" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title">附加信息</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>

        <div class="accordion-content">

          <div class="theme-list addition">
            <!-- 字体 -->
            <lx-settings-dropdowns
              [values]='titleFamilyList'
              [index]="getFontFamilyIndex(newBlock.props.publishDisplay.fontFamily)"
              [loadFont]="true"
              [firstSize]="24"
              (onChanged)='changeFontFamily($event)'
            ></lx-settings-dropdowns>
          </div>

          <div class="line top-15 addition">
            <!-- 字号 -->
            <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.publishDisplay.fontSize'
              (valueBlurChanged)="handleValueBlurChanged()" (valueChanged)="changeFontSize($event)">
            </lx-slider>

            <!-- 文字颜色 -->
            <lx-color-list class="left-12" [isOverflow]="true" [themColorList]=newBlock.theme.colors
              [colorSeleced]="newBlock.props.publishDisplay.color" (onChanged)="changeFontColor($event)"></lx-color-list>
          </div>
          <!-- 显示单位 -->
          <lx-input-group class="line top-15" [inputDefaultValue]="newBlock.props.unitDisplay ? newBlock.props.unitDisplay.text : ''" [isShowInput]="true"
            [checked]="newBlock.props.unitDisplay ? newBlock.props.unitDisplay.show : false" [inputTitle]="'单位'"
            (switchValue)="handleSwitchUnitDisplay($event)" (inputValue)="handleInputUnitDisplay($event)">
          </lx-input-group>

          <!-- 数据来源 -->
          <lx-input-group class="line top-15" [inputDefaultValue]="newBlock.props.sourceDisplay ? newBlock.props.sourceDisplay.text : ''"
            [isShowInput]="true" [checked]="newBlock.props.sourceDisplay ? newBlock.props.sourceDisplay.show : false" [inputTitle]="'数据来源'"
            (switchValue)="handleSwitchSourceDisplay($event)" (inputValue)="handleInputSourceDisplay($event)">
          </lx-input-group>

          <!-- 出品方 -->
          <div *ngIf="projectType === 'chart'">
            <lx-input-group class="line top-15" [inputDefaultValue]="newBlock.props.publishDisplay ? newBlock.props.publishDisplay.text : ''"
              [isShowInput]="true" [checked]="newBlock.props.publishDisplay ? newBlock.props.publishDisplay.show : false" [inputTitle]="'出品方'"
              (switchValue)="handleSwitchPublishDisplay($event)" (inputValue)="handleInputPublishDisplay($event)">
            </lx-input-group>
          </div>

          <!-- 显示 logo -->
          <div *ngIf="projectType === 'chart'">
            <lx-input-group class="line top-15" [checked]="newBlock.props.logoDisplay.show" [isShowInput]="false"
              [buttonValue]="'修改Logo'" [inputTitle]="'Logo显示'" (switchValue)="handleSwitchLogoDisplay($event)"
              (btnClick)="handleLogoClick()">
            </lx-input-group>
          </div>

          <!-- 显示水印 -->
          <div *ngIf="projectType === 'chart'">
            <lx-input-group class="line top-15" [checked]="newBlock.props.watermarkDisplay.show" [isShowInput]="false"
              [buttonValue]="'修改水印'" [inputTitle]="'水印显示'" (switchValue)="handleSwitchWatermarkDisplay($event)"
              (btnClick)="handleWatermarkClick()">
            </lx-input-group>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn top-20 left-0" (click)="resetHandle('font')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 颜色面板 -->
      <accordion-group panelClass="accordion-container" *ngIf="newBlock.props.colors"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-color-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="设置图表配色" container="body" containerClass="customClass"
          placement="left">
          <div container="body" class="accordion-heading-title">颜色</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <!-- 类型选择下拉框 -->
          <div class="change-title theme-list color-icon" *ngIf="colorsType.length > 1">
            <div class="small-title">颜色模式</div>
            <lx-settings-dropdowns
              [isBackgroundColor]="true"
              [values]="colorsType"
              [index]="colorsType.indexOf(colorMap[newBlock.props.colors.type])"
              (onChanged)="handleColorTypeChange($event)"
            >
            </lx-settings-dropdowns>
          </div>

          <!-- 图标模式选择下拉框 -->
          <div class="change-title theme-list color-icon" *ngIf="newBlock.props.pictures && newBlock.props.pictures.type">
            <div class="small-title">图标模式</div>
            <lx-settings-dropdowns
              [isBackgroundColor]="true"
              [values]="iconsType"
              [index]="iconsType.indexOf(iconMap[newBlock.props.pictures.type])"
              (onChanged)="handleIconTypeChange($event)"
            >
            </lx-settings-dropdowns>
          </div>

          <!-- 渐变 -->
          <ng-container *ngIf="newBlock.props.colors.type === 'linear'; else commonColorTemplate">
            <div class="line" style="width: 70px">
              <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                [colorSeleced]="transformNumber2ThemeColor(colorLists[0])" (onChanged)="handleColorChange($event, 0)"></lx-color-list>
              <div>
                <img class="left-2" style="margin-bottom: 3px;" src="/dyassets/images/setting/gradient.svg" alt="">
              </div>
              <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                [colorSeleced]="transformNumber2ThemeColor(colorLists[1])" (onChanged)="handleColorChange($event, 1)"></lx-color-list>
            </div>
          </ng-container>
          <!-- 单色 / 多色 -->
          <ng-template #commonColorTemplate>
            <div class="wrapper-color" [ngClass]="{'cloud': newBlock.templateId === '114473474859453649'}">
              <div class="color-newlist-item" *ngFor="let item of copyLegendList; let i = index">
                <!-- 颜色 -->
                <div [tooltip]="newBlock.templateId === '114473474859453649' ? legendList[i]: ''" container="body">
                  <lx-color-list *ngIf="newBlock.props.colors.type === 'single'" [isOverflow]="true" [isGradientShow]="isGradientShow" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="transformNumber2ThemeColor(colorLists[0])" (onChanged)="handleColorChange($event, 0)"></lx-color-list>
                  <lx-color-list *ngIf="newBlock.props.colors.type !== 'single'" [isOverflow]="true" [isGradientShow]="isGradientShow" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="transformNumber2ThemeColor(colorLists[i])" (onChanged)="handleColorChange($event, i)"></lx-color-list>
                </div>
                <!-- 颜色色块后面文字 -->
                <span class="text" *ngIf="newBlock.templateId !== '114473474859453649' && (newBlock.props.colors.type === 'multiple' || newBlock.props.pictures)">{{legendList[i]}}</span>
                <!-- 图标 / 图片 -->
                <ng-container *ngIf="newBlock.props.pictures">
                  <!-- 图标 -->
                  <div class="color-icon" *ngIf="newBlock.props.pictures.svglist && newBlock.props.pictures.svglist.length > 0">
                    <!-- 单个  -->
                    <div class="icon-cover" *ngIf="newBlock.props.pictures.type === 'single'" (click)="showToggleIcon(0)"><i [innerHTML]="newBlock.props.pictures.svglist[0] | html"></i></div>
                    <!-- 多个  -->
                    <div class="icon-cover" *ngIf="newBlock.props.pictures.type === 'multiple'" (click)="showToggleIcon(i)"><i [innerHTML]="newBlock.props.pictures.svglist[i] | html"></i></div>
                  </div>
                  <!-- 图片 -->
                  <div class="upload-img-box" *ngIf="newBlock.props.pictures.urlList && newBlock.props.pictures.urlList.length > 0">
                    <ng-container>
                      <div class="img-cover" *ngIf="animationDynamicChartImageList[i] && animationDynamicChartImageList[i] != null"
                        [ngStyle]="{background: 'url(' + animationDynamicChartImageList[i] + ') no-repeat center center'}">
                        <div class="del-img-cover" (click)="deleteImgCover(i)"><i></i></div>
                      </div>
                      <label class="list-image-upload" *ngIf="animationDynamicChartImageList[i] == undefined">上传图片
                        <input type="file" accept="image/jpeg, image/jpg, image/png"
                          (change)='handleUploadImage($event, i)'>
                      </label>
                    </ng-container>
                  </div>
                </ng-container>
              </div>
              
            </div>
          </ng-template>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('color')">
            恢复默认设置
          </div>

        </div>
      </accordion-group>  

      <!-- 标签 -->
      <accordion-group panelClass="accordion-container"
        *ngIf="newBlock.props.label"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-label-unfolded'])">

        <div accordion-heading class="accordion-heading" tooltip="设置图表的文字或数值说明" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">标签</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>

        <!-- 标签1 有 display -->
        <div class="accordion-content" *ngIf="isLabelOne">
          <!-- 显示标签 -->
          <ng-container>
            <div class="label-show"
              [ngClass]="{'bottom-20': newBlock.props.label.display}">
              <lx-checkbox class="switch" [checked]="newBlock.props.label.display"
                (change)="lableSwitch($event)"></lx-checkbox>
              <!-- 根据 contentOption 显示标签文字 -->
              <div class="small-title left-8">
                {{newBlock.props.label.contentOption?.length ? '标签显示' : '数值标签显示'}}
              </div>
            </div>
          </ng-container>

          <!-- 显示内容 -->
          <ng-container
            *ngIf="newBlock.props.label.contentOption?.length ? newBlock.props.label.contentOption : false">
            <div class="label-content"
              [ngClass]="{'display-none': !newBlock.props.label.display}">
              <div class="label-list" [ngClass]="{'left-22': !first}"
                *ngFor="let item of labelContentOption; let i = index;let first = first;">
                <lx-checkbox id="{{item.value}}" [(checked)]="item.checked"
                  (change)="changeLabelContentList(item, i)">
                </lx-checkbox>
                <label (click)="changeLabelContentList(item, i)">{{item.value}}</label>
              </div>
            </div>
          </ng-container>

          <!-- 有文字位置的html结构 -->
          <ng-container
            *ngIf="newBlock.props.label.positionOptions?.length ? newBlock.props.label.positionOptions : false">
            <!-- 标签字体配置  借用了标签 2 字体标签的配置 -->
            <ng-container *ngIf="newBlock.props.label.textLabel">

              <div class="title-show line"
                [ngClass]="{'display-none': !newBlock.props.label.display}">
                <!-- 文字标签字体 -->
                <ng-container *ngIf="newBlock.props.label.textLabel.fontFamily">
                  <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessTextFontIndex' [firstSize]="24"
                    [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'text')"></lx-settings-dropdowns>
                </ng-container>

                <!-- 文字标签颜色 -->
                <ng-container *ngIf="newBlock.props.label.textLabel.color">
                  <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="labelProgessTextColor" (onChanged)="changeProgessFontColor($event, 'text')">
                  </lx-color-list>
                </ng-container>
              </div>
            </ng-container>

            <div class="title-font line"
              [ngClass]="{'display-none': !newBlock.props.label.display}">
              <!-- 文字标签字号 -->
              <ng-container *ngIf="newBlock.props.label.textLabel && newBlock.props.label.textLabel.fontSize">
                <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessTextFontSize'
                  (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'text')">
                </lx-slider>
              </ng-container>

              <!-- 标签位置 -->
              <lx-settings-dropdowns [values]='labelPosList' [index]='labelPos' (onChanged)="changeLabelPos($event)">
              </lx-settings-dropdowns>

            </div>
          </ng-container>

          <!-- 无文字位置的html结构 -->
          <ng-container
            *ngIf="!(newBlock.props.label.positionOptions?.length ? newBlock.props.label.positionOptions : false)">
            <!-- 标签字体配置  借用了标签 2 字体标签的配置 -->
            <ng-container *ngIf="newBlock.props.label.textLabel">

              <div class="theme-list left-20 top-15 label-2"
                [ngClass]="{'display-none': !newBlock.props.label.display}">
                <!-- 文字标签字体 -->
                <ng-container *ngIf="newBlock.props.label.textLabel.fontFamily">
                  <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessTextFontIndex' [firstSize]="24"
                    [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'text')"></lx-settings-dropdowns>
                </ng-container>
              </div>
            </ng-container>

            <div class="top-15 label-2 between"
              [ngClass]="{'display-none': !newBlock.props.label.display}">
              <!-- 文字标签字号 -->
              <ng-container *ngIf="newBlock.props.label.textLabel && newBlock.props.label.textLabel.fontSize">
                <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessTextFontSize'
                  (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'text')">
                </lx-slider>
              </ng-container>

              <!-- 文字标签颜色 -->
              <ng-container *ngIf="newBlock.props.label.textLabel.color">
                <div class="label-pos2">
                  <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="labelProgessTextColor" (onChanged)="changeProgessFontColor($event, 'text')">
                  </lx-color-list>
                </div>
              </ng-container>

            </div>
          </ng-container>

          <!-- 单位 suffix 饼图-->
          <ng-container *ngIf="newBlock.props.label.contentChoice !== undefined">
            <div *ngIf="newBlock.props.label.display && newBlock.props.label.contentChoice.includes('数值') && newBlock.props.label.suffix !== undefined" class="line top-15">
              <div class="small-title left-20">单位</div>
              <input type="text" class="form-control"
                [value]="newBlock.props.label.suffix" (change)="changeLabelProp($event, 'suffix')">
            </div>
          </ng-container>

          <!-- 单位 suffix 非饼图-->
          <ng-container *ngIf="newBlock.props.label.contentChoice === undefined">
            <div *ngIf="newBlock.props.label.display && newBlock.props.label.suffix !== undefined" class="line top-15">
              <div class="small-title left-20">单位</div>
              <input type="text" class="form-control"
                [value]="newBlock.props.label.suffix" (change)="changeLabelProp($event, 'suffix')">
            </div>
          </ng-container>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('label')">
            恢复默认设置
          </div>
        </div>

        <!-- 标签2 无 display-->
        <div class="accordion-content label-two" *ngIf="isLabelTwo">
          <!-- 显示文字标签 -->
          <ng-container *ngIf="newBlock.props.label.textLabel">
            <ng-container>
              <div class="label-show" [ngClass]="{'bottom-20': newBlock.props.label.textLabel.show}">
                <lx-checkbox class="switch"
                  [checked]="newBlock.props.label.textLabel.show"
                  (change)="labelProgessSwitch($event, 'text')"></lx-checkbox>
                <div class="small-title left-8">显示文字标签</div>
              </div>
            </ng-container>

            <ng-container *ngIf="!newBlock.props.label.textLabel.positionOptions">
              <!-- 文字标签字体 -->
              <div class="theme-list left-20 label-2"
                [ngClass]="{'display-none': !newBlock.props.label.textLabel.show}">
                <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessTextFontIndex' [loadFont]="true" [firstSize]="24"
                  (onChanged)="changeLabelFontFamily($event, 'text')"></lx-settings-dropdowns>
              </div>

              <!-- 文字标签字号 -->
              <div class="top-15 label-2"
                [ngClass]="{'display-none': !newBlock.props.label.textLabel.show}">
                <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessTextFontSize'
                  (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'text')">
                </lx-slider>

                <!-- 显示文字标签字体颜色 -->
                <div class="change-page-color">
                  <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="labelProgessTextColor" (onChanged)="changeProgessFontColor($event, 'text')">
                  </lx-color-list>
                </div>
              </div>
            </ng-container>

            <ng-container *ngIf="newBlock.props.label.textLabel.positionOptions">
              <div 
                class="label-pos left-20"
                [ngClass]="{'display-none': !newBlock.props.label.textLabel.show }"
              >
                <div class="line width-189">
                  <!-- 文字标签字体 -->
                  <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessTextFontIndex' [firstSize]="24"
                  [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'text')"></lx-settings-dropdowns>
                  <!-- 显示文字标签字体颜色 -->
                  <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="labelProgessTextColor" (onChanged)="changeProgessFontColor($event, 'text')">
                  </lx-color-list>
                </div>

                <div class="line width-189 pos">
                  <!-- 文字标签字号 -->
                  <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessTextFontSize'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'text')">
                  </lx-slider>
  
                  <!-- 文字标签位置 -->
                  <lx-settings-dropdowns
                    [values]='newBlock.props.label.textLabel.positionOptions'
                    [index]='newBlock.props.label.textLabel.positionOptions.indexOf(newBlock.props.label.textLabel.positionChoice)'
                    (onChanged)="changeLabelTwoPos($event, 'textLabel')">
                  </lx-settings-dropdowns>
                </div>
              </div>

            </ng-container>
          </ng-container>

          <!-- 显示数字标签 -->
          <ng-container *ngIf="newBlock.props.label.numberLabel">
            <ng-container>
              <div class="label-show"
                [ngClass]="{'bottom-20': newBlock.props.label.numberLabel.show, 'top-20': newBlock.props.label.textLabel !== undefined}">
                <lx-checkbox class="switch"
                  [checked]="newBlock.props.label.numberLabel.show"
                  (change)="labelProgessSwitch($event, 'number')"></lx-checkbox>
                <div class="small-title left-8">显示数字标签</div>
              </div>
            </ng-container>

            <ng-container *ngIf="!newBlock.props.label.numberLabel.positionOptions">
              <!-- 数字标签字体 -->
              <div class="theme-list left-20 label-2"
                [ngClass]="{'display-none': !newBlock.props.label.numberLabel.show}">
                <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessNumberFontIndex' [firstSize]="24"
                [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'number')"></lx-settings-dropdowns>
              </div>
              <!-- 数字标签字号 -->
              <div class="top-15 label-2"
                [ngClass]="{'display-none': !newBlock.props.label.numberLabel.show}">
                <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessNumberFontSize'
                  (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'number')">
                </lx-slider>
                <!-- 显示数字标签字体颜色 -->
                <div class="change-page-color">
                  <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="labelProgessNumberColor" (onChanged)="changeProgessFontColor($event, 'number')">
                  </lx-color-list>
                </div>
              </div>
            </ng-container>

            <!-- 显示位置 -->
            <ng-container *ngIf="newBlock.props.label.numberLabel.positionOptions">
              <div 
                class="label-pos left-20"
                [ngClass]="{'display-none': !newBlock.props.label.numberLabel.show }"
              >
                <div class="line width-189">
                  <!-- 数字标签字体 -->
                  <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessNumberFontIndex' [firstSize]="24"
                  [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'number')"></lx-settings-dropdowns>
                  <!-- 显示数字标签字体颜色 -->
                  <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                    [colorSeleced]="labelProgessNumberColor" (onChanged)="changeProgessFontColor($event, 'number')">
                  </lx-color-list>
                </div>

                <div class="line width-189 pos">
                  <!-- 数字标签字号 -->
                  <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessNumberFontSize'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'number')">
                  </lx-slider>
  
                  <!-- 数字标签位置 -->
                  <lx-settings-dropdowns
                    [values]='newBlock.props.label.numberLabel.positionOptions'
                    [index]='newBlock.props.label.numberLabel.positionOptions.indexOf(newBlock.props.label.numberLabel.positionChoice)'
                    (onChanged)="changeLabelTwoPos($event, 'numberLabel')">
                  </lx-settings-dropdowns>
                </div>
              </div>

            </ng-container>

            <!-- 单位 suffix -->
            <div *ngIf="newBlock.props.label.numberLabel.show && newBlock.props.label.numberLabel.suffix !== undefined" class="line top-15">
              <div class="small-title left-20">单位</div>
              <input type="text" class="form-control"
                [value]="newBlock.props.label.numberLabel.suffix" (change)="changeLabelProp($event, 'numberLabel', 'suffix')">
            </div>
            
          </ng-container>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('label')">
            恢复默认设置
          </div>
        </div>

        <!-- 标签3 折柱混合专用 -->
        <div class="accordion-content" *ngIf="isLabelThree">
          <div class="theme-list line addition">
            <!-- 文字标签字体 -->
            <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelProgessTextFontIndex' [firstSize]="24"
              (onChanged)="changeLabelFontFamily($event, 'text')"></lx-settings-dropdowns>
          </div>

          <ng-container>
            <div class="addition line top-15 bottom-20">
              <!-- 文字标签字号 -->
              <lx-slider [min]=12 [max]=76 [step]=1 [cur]='labelProgessTextFontSize'
                (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'text')">
              </lx-slider>

              <!-- 标签字体配置  借用了标签 2 字体标签的配置-->
              <div class="change-page-color">
                <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                  [colorSeleced]="labelProgessTextColor" (onChanged)="changeProgessFontColor($event, 'text')">
                </lx-color-list>
              </div>
            </div>
          </ng-container>

          <!-- 显示柱形标签 -->
          <ng-container>
            <div class="label-show" [ngClass]="{'bottom-20': newBlock.props.label.bardisplay}">
              <lx-checkbox class="switch" [checked]="newBlock.props.label.bardisplay"
                (change)="lableBarLineSwitch($event, 'bar')"></lx-checkbox>
              <div class="small-title left-8">显示柱形标签</div>
            </div>
          </ng-container>

          <!-- 标签位置 -->
          <ng-container>
            <div class="theme-list left-20 label-2"
              [ngClass]="{'display-none': !newBlock.props.label.bardisplay}">
              <lx-settings-dropdowns [values]='labelBarPosList' [index]='labelBarPos'
                (onChanged)="changeLabelPos($event, 'bar')">
              </lx-settings-dropdowns>
            </div>
            <!-- 单位 suffix -->
            <div *ngIf="newBlock.props.label.bardisplay && newBlock.props.label.barSuffix !== undefined" class="line top-15">
              <div class="small-title left-20">单位</div>
              <input type="text" class="form-control"
                [value]="newBlock.props.label.barSuffix" (change)="changeLabelProp($event, 'barSuffix')">
            </div>
          </ng-container>

          <!-- 显示柱形标签 -->
          <ng-container>
            <div class="label-show top-20"
                [ngClass]="{'bottom-20': newBlock.props.label.linedisplay}">
              <lx-checkbox class="switch" [checked]="newBlock.props.label ? newBlock.props.label.linedisplay : false"
                (change)="lableBarLineSwitch($event, 'line')"></lx-checkbox>
              <div class="small-title left-8">显示折线标签</div>
            </div>
          </ng-container>

          <div class="theme-list left-20 label-2"
            [ngClass]="{'display-none': !(newBlock.props.label ? newBlock.props.label.linedisplay : false)}">
            <!-- 标签位置 -->
            <lx-settings-dropdowns [values]='labelLinePosList' [index]='labelLinePos'
              (onChanged)="changeLabelPos($event, 'line')">
            </lx-settings-dropdowns>
          </div>

          <!-- 单位 suffix -->
          <div *ngIf="newBlock.props.label.linedisplay && newBlock.props.label.lineSuffix !== undefined" class="line top-15">
            <div class="small-title left-20">单位</div>
            <input type="text" class="form-control"
              [value]="newBlock.props.label.lineSuffix" (change)="changeLabelProp($event, 'lineSuffix')">
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('label')">
            恢复默认设置
          </div>
        </div>

        <!-- 标签4 圆堆积图专用 -->
        <div class="accordion-content" *ngIf="isLabelFour">
          <!----------------------------------------------- 层级1 --------------------------------->
          <ng-container *ngIf="newBlock.props.map[0][0].index !== null">
            <!-- 显示标签 -->
            <ng-container *ngIf="newBlock.props.label">
              <div class="label-show" [ngClass]="{'bottom-20': newBlock.props.label.pc_level1Label.show}">
                <lx-checkbox class="switch"
                  [checked]="newBlock.props.label.pc_level1Label.show"
                  (change)="lableSwitchTip5($event,'pc_level1Label')"></lx-checkbox>
                <div class="small-title left-8">
                  层级1
                </div>
              </div>
            </ng-container>

            <!-- 显示内容 -->
            <ng-container *ngIf="newBlock.props.label.pc_level1Label.show">
              <ng-container>
                <div class="label-content">
                  <div class="label-list" [ngClass]="{'left-22': !first}"
                    *ngFor="let item of labelContentOption1; let i = index;let first = first;">
                    <lx-checkbox id="{{item.value}}" [(checked)]="item.checked"
                      (change)="changeLabelContentListTip5(item, '1')">
                    </lx-checkbox>
                    <label (click)="changeLabelContentListTip5(item, '1')">{{item.value}}</label>
                  </div>
                </div>
              </ng-container>

              <!-- 有文字位置的html结构 -->
              <ng-container>
                <ng-container>

                  <div class="title-show line">
                    <!-- 文字标签字体 -->
                    <ng-container *ngIf="newBlock.props.label.pc_level1Label.fontFamily">
                      <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelFontFamilyIndex1' [firstSize]="24"
                        [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'pc_level1Label')">
                      </lx-settings-dropdowns>
                    </ng-container>

                    <!-- 文字标签颜色 -->
                    <ng-container>
                      <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                        [colorSeleced]="newBlock.props.label.pc_level1Label.color"
                        (onChanged)="changeProgessFontColor($event, 'pc_level1Label')">
                      </lx-color-list>
                    </ng-container>
                  </div>
                </ng-container>

                <div class="title-font line">
                  <!-- 文字标签字号 -->
                  <ng-container
                    *ngIf="newBlock.props.label.pc_level1Label && newBlock.props.label.pc_level1Label.fontSize">
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label.pc_level1Label.fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'pc_level1Label')">
                    </lx-slider>
                  </ng-container>

                  <!-- 标签位置 -->
                  <lx-settings-dropdowns [values]='labelPosList1' [index]='labelPos1'
                    (onChanged)="changeLabelPosTip5($event,'pc_level1Label','positionChoice','positionOptions')">
                  </lx-settings-dropdowns>

                </div>

                <!-- 单位 suffix -->
                <div *ngIf="newBlock.props.label.pc_level1Label.contentChoice.includes('数值') && newBlock.props.label.pc_level1Label.suffix !== undefined" class="line top-15">
                  <div class="small-title left-20">单位</div>
                  <input type="text" class="form-control"
                    [value]="newBlock.props.label.pc_level1Label.suffix" (change)="changeLabelProp($event, 'pc_level1Label', 'suffix')">
                </div>
              </ng-container>
            </ng-container>
          </ng-container>
          <!----------------------------------------------- 层级2 --------------------------------->
          <ng-container *ngIf="newBlock.props.map[0][1].index !== null">
            <!-- 显示标签 -->
            <ng-container *ngIf="newBlock.props.label">
              <div class="label-show top-20" [ngClass]="{'bottom-20': newBlock.props.label.pc_level2Label.show}">
                <lx-checkbox class="switch"
                  [checked]="newBlock.props.label.pc_level2Label.show"
                  (change)="lableSwitchTip5($event,'pc_level2Label')"></lx-checkbox>
                <div class="small-title left-8">
                  层级2
                </div>
              </div>
            </ng-container>

            <ng-container *ngIf="newBlock.props.label.pc_level2Label.show">
              <!-- 显示内容 -->
              <ng-container>
                <div class="label-content">
                  <div class="label-list" [ngClass]="{'left-22': !first}"
                    *ngFor="let item of labelContentOption2; let i = index;let first = first;">
                    <lx-checkbox id="{{item.value}}" [(checked)]="item.checked"
                      (change)="changeLabelContentListTip5(item, '2')">
                    </lx-checkbox>
                    <label (click)="changeLabelContentListTip5(item, '2')">{{item.value}}</label>
                  </div>
                </div>
              </ng-container>
              <!-- 有文字位置的html结构 -->
              <ng-container>
                <ng-container>

                  <div class="title-show line">
                    <!-- 文字标签字体 -->
                    <ng-container *ngIf="newBlock.props.label.pc_level2Label.fontFamily">
                      <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelFontFamilyIndex2' [firstSize]="24"
                        [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'pc_level2Label')">
                      </lx-settings-dropdowns>
                    </ng-container>

                    <!-- 文字标签颜色 -->
                    <ng-container>
                      <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                        [colorSeleced]="newBlock.props.label.pc_level2Label.color"
                        (onChanged)="changeProgessFontColor($event, 'pc_level2Label')">
                      </lx-color-list>
                    </ng-container>
                  </div>
                </ng-container>

                <div class="title-font line">
                  <!-- 文字标签字号 -->
                  <ng-container
                    *ngIf="newBlock.props.label.pc_level2Label && newBlock.props.label.pc_level2Label.fontSize">
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label.pc_level2Label.fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'pc_level2Label')">
                    </lx-slider>
                  </ng-container>

                  <!-- 标签位置 -->
                  <lx-settings-dropdowns [values]='labelPosList2' [index]='labelPos2'
                    (onChanged)="changeLabelPosTip5($event,'pc_level2Label','positionChoice','positionOptions')">
                  </lx-settings-dropdowns>

                </div>
                <!-- 单位 suffix -->
                <div *ngIf="newBlock.props.label.pc_level2Label.contentChoice.includes('数值') && newBlock.props.label.pc_level2Label.suffix !== undefined" class="line top-15">
                  <div class="small-title left-20">单位</div>
                  <input type="text" class="form-control"
                    [value]="newBlock.props.label.pc_level2Label.suffix" (change)="changeLabelProp($event, 'pc_level2Label', 'suffix')">
                </div>
              </ng-container>
            </ng-container>
          </ng-container>

          <!----------------------------------------------- 层级3 --------------------------------->
          <ng-container *ngIf="newBlock.props.map[0][2].index !== null">
            <!-- 显示标签 -->
            <ng-container *ngIf="newBlock.props.label">
              <div class="label-show top-20" [ngClass]="{'bottom-20': newBlock.props.label.pc_level3Label.show}">
                <lx-checkbox class="switch"
                  [checked]="newBlock.props.label.pc_level3Label.show"
                  (change)="lableSwitchTip5($event,'pc_level3Label')"></lx-checkbox>
                <div class="small-title left-8">
                  层级3
                </div>
              </div>
            </ng-container>

            <ng-container *ngIf="newBlock.props.label.pc_level3Label.show">
              <!-- 显示内容 -->
              <ng-container>
                <div class="label-content">
                  <div class="label-list" [ngClass]="{'left-22': !first}"
                    *ngFor="let item of labelContentOption3; let i = index;let first = first;">
                    <lx-checkbox id="{{item.value}}" [(checked)]="item.checked"
                      (change)="changeLabelContentListTip5(item, '3')">
                    </lx-checkbox>
                    <label (click)="changeLabelContentListTip5(item, '3')">{{item.value}}</label>
                  </div>
                </div>
              </ng-container>
              <!-- 无文字位置的html结构 -->
              <ng-container>
                <!-- 标签字体配置  借用了标签 2 字体标签的配置 -->
                <ng-container>

                  <div class="theme-list left-20 top-15 label-2">
                    <!-- 文字标签字体 -->
                    <ng-container *ngIf="newBlock.props.label.pc_level3Label.fontFamily">
                      <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelFontFamilyIndex3' [firstSize]="24"
                        [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'pc_level3Label')">
                      </lx-settings-dropdowns>
                    </ng-container>
                  </div>
                </ng-container>

                <div class="top-15 label-2">
                  <!-- 文字标签字号 -->
                  <ng-container>
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label.pc_level3Label.fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'pc_level3Label')">
                    </lx-slider>
                  </ng-container>

                  <!-- 文字标签颜色 -->
                  <ng-container>
                    <lx-color-list class="left-12" [isOverflow]="true" [themColorList]=newBlock.theme.colors
                      [colorSeleced]="newBlock.props.label.pc_level3Label.color"
                      (onChanged)="changeProgessFontColor($event, 'pc_level3Label')">
                    </lx-color-list>
                  </ng-container>
                </div>

                <!-- 单位 suffix -->
                <div *ngIf="newBlock.props.label.pc_level3Label.contentChoice.includes('数值') && newBlock.props.label.pc_level3Label.suffix !== undefined" class="line top-15">
                  <div class="small-title left-20">单位</div>
                  <input type="text" class="form-control"
                    [value]="newBlock.props.label.pc_level3Label.suffix" (change)="changeLabelProp($event, 'pc_level3Label', 'suffix')">
                </div>
              </ng-container>

            </ng-container>
          </ng-container>
          <!----------------------------------------------- 时间信息显示 --------------------------------->

          <!-- 显示标签 -->
          <ng-container *ngIf="newBlock.props.label">
            <div class="label-show top-20" [ngClass]="{'bottom-20': newBlock.props.label.timeLabel.show}">
              <lx-checkbox class="switch"
                [checked]="newBlock.props.label ? newBlock.props.label.timeLabel.show : false"
                (change)="lableSwitchTip5($event,'timeLabel')"></lx-checkbox>
              <div class="small-title left-8">
                时间信息显示
              </div>
            </div>
          </ng-container>

          <ng-container *ngIf="newBlock.props.label.timeLabel.show">
            <!-- 有文字位置的html结构 -->
            <ng-container>
              <ng-container>

                <div class="title-show line">
                  <!-- 文字标签字体 -->
                  <ng-container *ngIf="newBlock.props.label.timeLabel.fontFamily">
                    <lx-settings-dropdowns [values]='titleFamilyList' [index]='labelFontFamilyIndex4' [firstSize]="24"
                      [loadFont]="true" (onChanged)="changeLabelFontFamily($event, 'timeLabel')">
                    </lx-settings-dropdowns>
                  </ng-container>

                  <!-- 文字标签颜色 -->
                  <ng-container>
                    <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                      [colorSeleced]="newBlock.props.label.timeLabel.color"
                      (onChanged)="changeProgessFontColor($event, 'timeLabel')">
                    </lx-color-list>
                  </ng-container>
                </div>
              </ng-container>

              <div class="title-font line">
                <!-- 文字标签字号 -->
                <ng-container *ngIf="newBlock.props.label.timeLabel && newBlock.props.label.timeLabel.fontSize">
                  <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label.timeLabel.fontSize'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, 'timeLabel')">
                  </lx-slider>
                </ng-container>

                <!-- 标签位置 -->
                <lx-settings-dropdowns [values]='labelPosList4' [index]='labelPos4'
                  (onChanged)="changeLabelPosTip5($event,'timeLabel','positionChoice','positionOptions')">
                </lx-settings-dropdowns>

              </div>
            </ng-container>
          </ng-container>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('label')">
            恢复默认设置
          </div>
        </div>

        <!-- 标签5 其他动态图专用 -->
        <div class="accordion-content" *ngIf="isLabelFive">

          <ng-container *ngFor="let response of newBlock.props.label | keyAndValue; let last = last">
            <!-- 显示标签 -->
            <ng-container>
              <div class="label-show" [ngClass]="{'bottom-20': !last,'bottom-15': last}">
                <lx-checkbox class="switch"
                  [checked]="newBlock.props.label[response].show"
                  (change)="lableSwitchTip5($event,response)"></lx-checkbox>
                <div class="small-title left-8">
                  {{newBlock.props.label[response].titlename}}
                </div>
              </div>
            </ng-container>
            
            <div *ngFor="let item of newBlock.props.label[response] | keyAndValue" class="bottom-15" 
              [ngClass]="{'display-none': !newBlock.props.label[response].show}" >

              <!-- 标签字体配置-->
              <ng-container
                *ngIf="item === 'fontFamily'
              && (response === 'rb_textLabel' || response === 'rb_numberLabel')">
                <div class="theme-list left-20 top-15 label-2 dynamic">
                  <!-- 文字标签字体 -->
                  <ng-container>
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]=newBlock.props.label[response][item] [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event,response)"></lx-settings-dropdowns>
                  </ng-container>
                  <!-- 文字标签字号 -->
                  <ng-container>
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>
                </div>
              </ng-container>

              <!-- 标签位置 && 颜色 配置-->
              <ng-container *ngIf="response !== 'rb_picLabel' && item === 'positionOptions'">

                <div class="title-font line dynamic-position">
                  <lx-settings-dropdowns class="position" [values]=newBlock.props.label[response][item]
                    [selector]='newBlock.props.label[response].positionChoice'
                    (onChanged)="changeLabelPosTip5($event,response,'positionChoice','positionOptions')">
                  </lx-settings-dropdowns>
                  <div class="title-show-dynamic title-show line"
                    [ngClass]="{'active': newBlock.props.label[response].color === null}">
                    <lx-settings-dropdowns [values]="colorTypeList"
                      [index]="newBlock.props.label[response].color === null ? 0 : 1"
                      (onChanged)="changeDrop($event,response,'color')"></lx-settings-dropdowns>
                    <lx-color-list *ngIf="newBlock.props.label[response].color !== null" class="left-8"
                      [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                      [colorSeleced]="newBlock.props.label[response].color === null ? labelinitColor[response].color : newBlock.props.label[response].color "
                      (onChanged)="changeProgessFontColor($event,response)"></lx-color-list>
                  </div>
                </div>
              </ng-container>

              <!-- 单个颜色配置-->
              <ng-container *ngIf="response === 'rb_numberLabel' && item === 'color'">
                <div class="title-show-dynamic title-show line color-only"
                  [ngClass]="{'active': newBlock.props.label[response].color === null}">
                  <lx-settings-dropdowns [values]="colorTypeList"
                    [index]="newBlock.props.label[response].color === null ? 0 : 1"
                    (onChanged)="changeDrop($event,response,'color')"></lx-settings-dropdowns>
                  <lx-color-list *ngIf="newBlock.props.label[response].color !== null" class="left-8"
                    [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                    [colorSeleced]="newBlock.props.label[response].color === null ? labelinitColor[response].color : newBlock.props.label[response].color "
                    (onChanged)="changeProgessFontColor($event,response)"></lx-color-list>
                </div>
              </ng-container>

              <!-- 单位 suffix -->
              <div *ngIf="response === 'rb_numberLabel' && item === 'suffix' && newBlock.props.label[response].show" class="line top-15">
                <div class="small-title left-20">单位</div>
                <input type="text" class="form-control"
                  [value]="newBlock.props.label[response].suffix" (change)="changeLabelProp($event, response, 'suffix')">
              </div>
              
              <!-- 标签形状配置-->
              <ng-container *ngIf="item === 'picMaskOptions'">
                <div class="line pic-mask">
                  <div class="small-title">形状</div>
                  <div class="title-show-dynamic title-show line active">
                    <lx-settings-dropdowns [values]="newBlock.props.label[response][item]"
                      [selector]="newBlock.props.label[response].picMaskChoice[0]"
                      (onChanged)="changeLabelPosTip5($event,response,'picMaskChoice',item)"></lx-settings-dropdowns>
                  </div>
                </div>
              </ng-container>

              <!-- 标签大小配置-->
              <ng-container *ngIf="item === 'picSizePercentage'">
                <div class="line pic-mask">
                  <div class="small-title">大小 (%)</div>
                  <lx-slider [min]=0 [max]=100 [step]=1 [cur]='newBlock.props.label[response][item] * 100'
                    [isProgress]="true" (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handlelabel($event,item / 100,response)">
                  </lx-slider>
                </div>
              </ng-container>

              <!-- 标签位置配置-->
              <ng-container *ngIf="item === 'positionOptions' && response ==='rb_picLabel'">
                <div class="line pic-mask">
                  <div class="small-title">位置</div>
                  <div class="title-show-dynamic title-show  line active">
                    <lx-settings-dropdowns [values]="newBlock.props.label[response][item]"
                      [selector]="newBlock.props.label[response].positionChoice"
                      (onChanged)="changeLabelPosTip5($event,response,'positionChoice',item)"></lx-settings-dropdowns>
                  </div>
                </div>
              </ng-container>

              <!-- 标签边距配置-->
              <ng-container *ngIf="item === 'picBorderPadding'">
                <div class="line no-progress-dynamic">
                  <div class="small-title">边距</div>
                  <lx-slider [min]=0 [max]=100 [step]=1 [cur]='newBlock.props.label[response][item]'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handlelabel($event,item,response)">
                  </lx-slider>
                </div>
              </ng-container>

              <!-- 标签描边宽度配置-->
              <ng-container *ngIf="item === 'picBorderWidth'">
                <div class="line no-progress-dynamic">
                  <div class="small-title">描边宽度</div>
                  <lx-slider [min]=0 [max]=100 [step]=1 [cur]='newBlock.props.label[response][item]'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handlelabel($event,item,response)">
                  </lx-slider>
                </div>
              </ng-container>

              <!-- 标签描边颜色配置-->
              <ng-container *ngIf="item === 'picBorderColor'">
                <div class="title-font line dynamic-position">
                  <div class="small-title">描边颜色</div>
                  <div class="title-show-dynamic title-show  line"
                    [ngClass]="{'active': newBlock.props.label[response][item] === null}">
                    <lx-settings-dropdowns [values]="colorTypeList"
                      [index]="newBlock.props.label[response][item] === null ? 0 : 1"
                      (onChanged)="changeDrop($event,response,item)"></lx-settings-dropdowns>
                    <lx-color-list *ngIf="newBlock.props.label[response][item]!== null" class="left-8"
                      [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                      [colorSeleced]="newBlock.props.label[response][item] === null ? labelinitColor[response][item] : newBlock.props.label[response][item] "
                      (onChanged)="handlelabel($event,item,response)"></lx-color-list>
                  </div>
                </div>
              </ng-container>

              <!-- 标签 标签 字体配置-->
              <ng-container *ngIf="item === 'fontFamily' && response ==='timeLabel'">
                <!-- 文字标签字体 -->
                <ng-container>
                  <div class="theme-list left-20 label-2">
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]='newBlock.props.label[response][item]' [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event, response)"></lx-settings-dropdowns>
                  </div>
                </ng-container>

                <!-- 文字标签字号 -->
                <ng-container>
                  <div class="top-15 label-2">
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>

                    <!-- 显示文字标签字体颜色 -->
                    <div class="change-page-color">
                      <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                        [colorSeleced]="newBlock.props.label[response].color"
                        (onChanged)="changeProgessFontColor($event, response)">
                      </lx-color-list>
                    </div>
                  </div>

                </ng-container>
              </ng-container>

              <!-- 标签节点形状配置-->
              <ng-container *ngIf="item === 'endPointStyles'">
                <div class="line pic-mask">
                  <div class="small-title">节点形状</div>
                  <div class="title-show-dynamic title-show line active">
                    <lx-settings-dropdowns [values]="newBlock.props.label[response][item]"
                      [selector]="newBlock.props.label[response].endPointChoice[0]"
                      (onChanged)="changeLabelPosTip5($event,response,'endPointChoice',item)"></lx-settings-dropdowns>
                  </div>
                </div>
              </ng-container>

              <!-- 标签节点颜色配置-->
              <ng-container *ngIf="item === 'endPointColor'">
                <div class="title-font line dynamic-position">
                  <div class="small-title">节点颜色</div>
                  <div class="title-show-dynamic title-show  line"
                    [ngClass]="{'active': newBlock.props.label[response][item] === null}">
                    <lx-settings-dropdowns [values]="colorTypeList"
                      [index]="newBlock.props.label[response][item] === null ? 0 : 1"
                      (onChanged)="changeDrop($event,response,item)"></lx-settings-dropdowns>
                    <lx-color-list *ngIf="newBlock.props.label[response][item]!== null" class="left-8"
                      [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                      [colorSeleced]="newBlock.props.label[response][item] === null ? labelinitColor[response][item] : newBlock.props.label[response][item] "
                      (onChanged)="handlelabel($event,item,response)"></lx-color-list>
                  </div>
                </div>
              </ng-container>

              <!-- 标签节点高度 (px)配置-->
              <ng-container *ngIf="item === 'endPointHeight'">
                <div class="line no-progress-dynamic">
                  <div class="small-title">节点高度 (px)</div>
                  <lx-slider [min]=1 [max]=100 [step]=1 [cur]='newBlock.props.label[response][item]'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handlelabel($event,item,response)">
                  </lx-slider>
                </div>
              </ng-container>

              <!-- 标签图片高度 (px)配置-->
              <ng-container *ngIf="item === 'picHeight'">
                <div class="line no-progress-dynamic bottom-15">
                  <div class="small-title">图片高度 (px)</div>
                  <lx-slider [min]=1 [max]=100 [step]=1 [cur]='newBlock.props.label[response][item]'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handlelabel($event,item,response)">
                  </lx-slider>
                </div>
              </ng-container>

              <!-- 标签描边颜色配置-->
              <ng-container *ngIf="item === 'color' && response === 'rl_picLabel'">
                <div class="title-font line dynamic-position">
                  <div class="small-title">节点颜色</div>
                  <div class="title-show-dynamic title-show  line"
                    [ngClass]="{'active': newBlock.props.label[response][item] === null}">
                    <lx-settings-dropdowns [values]="colorTypeList"
                      [index]="newBlock.props.label[response][item] === null ? 0 : 1"
                      (onChanged)="changeDrop($event,response,item)"></lx-settings-dropdowns>
                    <lx-color-list *ngIf="newBlock.props.label[response][item]!== null" class="left-8"
                      [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                      [colorSeleced]="newBlock.props.label[response][item] === null ? labelinitColor[response][item] : newBlock.props.label[response][item] "
                      (onChanged)="handlelabel($event,item,response)"></lx-color-list>
                  </div>
                </div>
              </ng-container>

              <!-------------------------------------- 形状变换的栏目----------------------------------------------------------->

              <!-- 动态折线变化图 圆形 文本标签配置-->
              <ng-container *ngIf="item === 'fontSize' && response ==='nl_textLabel' 
              && newBlock.props.label.nl_picLabel.endPointChoice[0] === '圆形'">
                <div class="theme-list left-20 top-15 label-2 dynamic">
                  <!-- 文字标签字体 -->
                  <ng-container>
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]=newBlock.props.label[response].fontFamily [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event,response)"></lx-settings-dropdowns>
                  </ng-container>
                  <!-- 文字标签字号 -->
                  <ng-container>
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>
                </div>

                <div class="title-font line dynamic-position">
                  <lx-settings-dropdowns class="position"
                    [values]=newBlock.props.label[response].positionOptions_circle
                    [selector]='newBlock.props.label[response].positionChoice'
                    (onChanged)="changeLabelPosTip5($event,response,'positionChoice','positionOptions_circle')">
                  </lx-settings-dropdowns>
                  <div class="title-show-dynamic title-show line"
                    [ngClass]="{'active': newBlock.props.label[response].color === null}">
                    <lx-settings-dropdowns [values]="colorTypeList"
                      [index]="newBlock.props.label[response].color === null ? 0 : 1"
                      (onChanged)="changeDrop($event,response,'color')"></lx-settings-dropdowns>
                    <lx-color-list *ngIf="newBlock.props.label[response].color !== null" class="left-8"
                      [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                      [colorSeleced]="newBlock.props.label[response].color === null ? labelinitColor[response][item] : newBlock.props.label[response].color "
                      (onChanged)="changeProgessFontColor($event,response)"></lx-color-list>
                  </div>
                </div>
              </ng-container>

              <!-- 动态折线变化图 方形 文本标签配置-->
              <ng-container *ngIf="item === 'fontFamily' && response ==='nl_textLabel'
                && newBlock.props.label.nl_picLabel.endPointChoice[0] === '方形'">
                <ng-container>

                  <div class="title-show line">
                    <!-- 文字标签字体 -->
                    <ng-container *ngIf="newBlock.props.label[response].fontFamily">
                      <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                        [fontSelector]='newBlock.props.label[response].fontFamily' [loadFont]="true"
                        (onChanged)="changeLabelFontFamily($event,response)">
                      </lx-settings-dropdowns>
                    </ng-container>

                    <!-- 文字标签颜色 -->
                    <ng-container>
                      <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                        [colorSeleced]="newBlock.props.label[response].color"
                        (onChanged)="changeProgessFontColor($event, response)">
                      </lx-color-list>
                    </ng-container>
                  </div>
                </ng-container>
                <div class="title-font line">
                  <!-- 文字标签字号 -->
                  <ng-container *ngIf="newBlock.props.label[response] && newBlock.props.label[response].fontSize">
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>

                  <!-- 标签位置 -->
                  <lx-settings-dropdowns [values]='newBlock.props.label[response].positionOptions_rect'
                    [selector]='newBlock.props.label[response].positionChoice'
                    (onChanged)="changeLabelPosTip5($event,response,'positionChoice','positionOptions_rect')">
                  </lx-settings-dropdowns>
                </div>
              </ng-container>

              <!-- 动态折线变化图 圆形 数值标签配置-->
              <ng-container *ngIf="item === 'fontFamily' 
              && response ==='nl_numberLabel' && newBlock.props.label.nl_picLabel.endPointChoice[0] === '圆形' ">
                <div class="theme-list left-20 top-15 label-2 dynamic">
                  <!-- 文字标签字体 -->
                  <ng-container>
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]=newBlock.props.label[response][item] [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event,response)"></lx-settings-dropdowns>
                  </ng-container>
                  <!-- 文字标签字号 -->
                  <ng-container>
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>
                </div>
                <div class="title-show-dynamic title-show line color-only"
                  [ngClass]="{'active': newBlock.props.label[response].color === null}">
                  <lx-settings-dropdowns [values]="colorTypeList"
                    [index]="newBlock.props.label[response].color === null ? 0 : 1"
                    (onChanged)="changeDrop($event,response,'color')"></lx-settings-dropdowns>
                  <lx-color-list *ngIf="newBlock.props.label[response].color !== null" class="left-8"
                    [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                    [colorSeleced]="newBlock.props.label[response].color === null ? labelinitColor[response].color : newBlock.props.label[response].color "
                    (onChanged)="changeProgessFontColor($event,response)"></lx-color-list>
                </div>
              </ng-container>

              <!-- 动态折线变化图 方形 数值标签配置-->
              <ng-container *ngIf="item === 'fontFamily' 
              && response ==='nl_numberLabel' && newBlock.props.label.nl_picLabel.endPointChoice[0] === '方形' ">
                <!-- 无文字位置的html结构 -->
                <ng-container>
                  <ng-container>
                    <div class="theme-list left-20 top-15 label-2">
                      <!-- 文字标签字体 -->
                      <ng-container>
                        <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                          [fontSelector]='newBlock.props.label[response].fontFamily' [loadFont]="true"
                          (onChanged)="changeLabelFontFamily($event, response)"></lx-settings-dropdowns>
                      </ng-container>
                    </div>
                  </ng-container>

                  <div class="top-15 label-2">
                    <!-- 文字标签字号 -->
                    <ng-container>
                      <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                        (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                      </lx-slider>
                    </ng-container>

                    <!-- 文字标签颜色 -->
                    <ng-container>
                      <lx-color-list class="left-12" [isOverflow]="true" [themColorList]=newBlock.theme.colors
                        [colorSeleced]="newBlock.props.label[response].color"
                        (onChanged)="changeProgessFontColor($event, response)">
                      </lx-color-list>
                    </ng-container>

                  </div>
                </ng-container>
              </ng-container>

              <!-- 单位 suffix -->
              <div *ngIf="response === 'nl_numberLabel' && item === 'suffix' && newBlock.props.label[response].show" class="line top-15" [ngClass]="{'bottom-0': last}">
                <div class="small-title left-20">单位</div>
                <input type="text" class="form-control"
                  [value]="newBlock.props.label[response].suffix" (change)="changeLabelProp($event, response, 'suffix')">
              </div>

              <!-- 动态折线排名图 圆形 文本标签配置-->
              <ng-container *ngIf="item === 'fontSize' && response ==='rl_textLabel' 
              && newBlock.props.label.rl_picLabel.endPointChoice[0] === '圆形'">
                <div class="theme-list left-20 top-15 label-2 dynamic">
                  <!-- 文字标签字体 -->
                  <ng-container>
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]=newBlock.props.label[response].fontFamily [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event,response)"></lx-settings-dropdowns>
                  </ng-container>
                  <!-- 文字标签字号 -->
                  <ng-container>
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>
                </div>

                <div class="title-font line dynamic-position">
                  <lx-settings-dropdowns class="position"
                    [values]=newBlock.props.label[response].positionOptions_circle
                    [selector]='newBlock.props.label[response].positionChoice'
                    (onChanged)="changeLabelPosTip5($event,response,'positionChoice','positionOptions_circle')">
                  </lx-settings-dropdowns>
                  <div class="title-show-dynamic title-show line"
                    [ngClass]="{'active': newBlock.props.label[response].color === null}">
                    <lx-settings-dropdowns [values]="colorTypeList"
                      [index]="newBlock.props.label[response].color === null ? 0 : 1"
                      (onChanged)="changeDrop($event,response,'color')"></lx-settings-dropdowns>
                    <lx-color-list *ngIf="newBlock.props.label[response].color !== null" class="left-8"
                      [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                      [colorSeleced]="newBlock.props.label[response].color === null ? labelinitColor[response].color : newBlock.props.label[response].color "
                      (onChanged)="changeProgessFontColor($event,response)"></lx-color-list>
                  </div>
                </div>
              </ng-container>

              <!-- 动态折线排名图 方形 文本标签配置-->
              <ng-container *ngIf="item === 'fontFamily' && response ==='rl_textLabel'
              && newBlock.props.label.rl_picLabel.endPointChoice[0] === '方形'">
                <div class="title-show line">
                  <!-- 文字标签字体 -->
                  <ng-container *ngIf="newBlock.props.label[response].fontFamily">
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]='newBlock.props.label[response].fontFamily' [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event,response)">
                    </lx-settings-dropdowns>
                  </ng-container>

                  <!-- 文字标签颜色 -->
                  <ng-container>
                    <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                      [colorSeleced]="newBlock.props.label[response].color"
                      (onChanged)="changeProgessFontColor($event, response)">
                    </lx-color-list>
                  </ng-container>
                </div>

                <div class="title-font line">
                  <!-- 文字标签字号 -->
                  <ng-container *ngIf="newBlock.props.label[response] && newBlock.props.label[response].fontSize">
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>

                  <!-- 标签位置 -->
                  <lx-settings-dropdowns [values]='newBlock.props.label[response].positionOptions_rect'
                    [selector]='newBlock.props.label[response].positionChoice'
                    (onChanged)="changeLabelPosTip5($event,response,'positionChoice','positionOptions_rect')">
                  </lx-settings-dropdowns>
                </div>

              </ng-container>

              <!-- 动态折线排名图  圆形 数值标签配置-->
              <ng-container *ngIf="item === 'fontFamily' 
              && response ==='rl_numberLabel' && newBlock.props.label.rl_picLabel.endPointChoice[0] === '圆形' ">
                <div class="theme-list left-20 top-15 label-2 dynamic">
                  <!-- 文字标签字体 -->
                  <ng-container>
                    <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                      [fontSelector]=newBlock.props.label[response][item] [loadFont]="true"
                      (onChanged)="changeLabelFontFamily($event,response)"></lx-settings-dropdowns>
                  </ng-container>
                  <!-- 文字标签字号 -->
                  <ng-container>
                    <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                      (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                    </lx-slider>
                  </ng-container>
                </div>
                <div class="title-show-dynamic title-show line color-only"
                  [ngClass]="{'active': newBlock.props.label[response].color === null}">
                  <lx-settings-dropdowns [values]="colorTypeList"
                    [index]="newBlock.props.label[response].color === null ? 0 : 1"
                    (onChanged)="changeDrop($event,response,'color')"></lx-settings-dropdowns>
                  <lx-color-list *ngIf="newBlock.props.label[response].color !== null" class="left-8"
                    [isOverflow]="true" [themColorList]="newBlock.theme.colors"
                    [colorSeleced]="newBlock.props.label[response].color === null ? labelinitColor[response].color : newBlock.props.label[response].color "
                    (onChanged)="changeProgessFontColor($event,response)"></lx-color-list>
                </div>
              </ng-container>

              <!-- 动态折线排名图 方形 数值标签配置-->
              <ng-container *ngIf="item === 'fontFamily' 
              && response ==='rl_numberLabel' && newBlock.props.label.rl_picLabel.endPointChoice[0] === '方形' ">
                <!-- 无文字位置的html结构 -->
                <ng-container>
                  <ng-container>
                    <div class="theme-list left-20 top-15 label-2">
                      <!-- 文字标签字体 -->
                      <ng-container>
                        <lx-settings-dropdowns [values]='titleFamilyList' [firstSize]="24"
                          [fontSelector]='newBlock.props.label[response].fontFamily' [loadFont]="true"
                          (onChanged)="changeLabelFontFamily($event, response)"></lx-settings-dropdowns>
                      </ng-container>
                    </div>
                  </ng-container>

                  <div class="top-15 label-2">
                    <!-- 文字标签字号 -->
                    <ng-container>
                      <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.label[response].fontSize'
                        (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeProgessFontSize($event, response)">
                      </lx-slider>
                    </ng-container>

                    <!-- 文字标签颜色 -->
                    <ng-container>
                      <lx-color-list class="left-12" [isOverflow]="true" [themColorList]=newBlock.theme.colors
                        [colorSeleced]="newBlock.props.label[response].color"
                        (onChanged)="changeProgessFontColor($event, response)">
                      </lx-color-list>
                    </ng-container>

                  </div>
                </ng-container>
              </ng-container>

              <!-- 单位 suffix -->
              <div *ngIf="response === 'rl_numberLabel' && item === 'suffix' && newBlock.props.label[response].show" class="line top-15" [ngClass]="{'bottom-0': last}">
                <div class="small-title left-20">单位</div>
                <input type="text" class="form-control"
                  [value]="newBlock.props.label[response].suffix" (change)="changeLabelProp($event, response, 'suffix')">
              </div>

            </div>
          </ng-container>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0 top-0" (click)="resetHandle('label')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 轴/网格线 -->
      <accordion-group panelClass="accordion-container"
        *ngIf="newBlock.props.axis"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-axis-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="用轴和网格线辅助数据的展示" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title">轴、网格线</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <!-- 文字配置 -->
          <ng-container *ngIf="newBlock.props.font !== undefined">
            <div class="small-title">轴标签、轴标题</div>
            <!-- 轴标签字体 -->
            <div class="theme-list axis line addition top-15">
              <lx-settings-dropdowns [values]='titleFamilyList' [index]='getFontFamilyIndex(newBlock.props.font.fontFamily)' [firstSize]="24"
                (onChanged)='handleChangeAxisFontFamily($event)'></lx-settings-dropdowns>
            </div>
            <div class="addition axis line top-15">
              <!-- 轴标签字号 -->
              <lx-slider [min]=12 [max]=76 [step]=1 [cur]="newBlock.props.font.fontSize" (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="haneleChangeAxisFontSize($event)">
              </lx-slider>
              <!-- 轴标签颜色 -->
              <lx-color-list class="left-12" [isOverflow]="true" [themColorList]=newBlock.theme.colors
                [colorSeleced]="newBlock.props.font.color" (onChanged)="handleChangeAxisLabelColor($event)"></lx-color-list>
            </div>
          </ng-container>

          <!-- 轴 -->
          <ng-container *ngFor="let item of axisXYArr">
            <ng-container *ngIf="newBlock.props.axis[item] !== null">
              <div class="small-title top-20">{{axisNameMap[item]}}轴</div>
              <!-- 轴标签  labelShow -->
              <lx-input-group *ngIf="newBlock.props.axis[item].labelShow !== undefined" class="line top-15 left-20"
                [checked]="newBlock.props.axis[item].labelShow" [inputTitle]="'轴标签'" (switchValue)="changeAxisXY($event, item, 'labelShow')">
              </lx-input-group>
              <!-- 单位 labelSuffix -->
              <div *ngIf="newBlock.props.axis[item].labelSuffix !== undefined && newBlock.props.axis[item].labelShow" class="line top-15">
                <div class="small-title left-40">单位</div>
                <input type="text" class="form-control width-108"
                  [value]="newBlock.props.axis[item].labelSuffix" (change)="changeXYProp($event, item, 'labelSuffix')">
              </div>
              <!-- 方向 labelDirection -->
              <div class="line top-15" *ngIf="newBlock.props.axis[item].labelDirection !== undefined && newBlock.props.axis[item].labelShow">
                <div class="small-title left-40">方向</div>
                <div class="axis-direction line" [ngClass]="{'active': (newBlock.props.axis[item].labelDirection === '自动' || newBlock.props.axis.axistype === 'polar')}">
                  <lx-settings-dropdowns
                    [isBackgroundColor]="true"
                    [selector]="newBlock.props.axis[item].labelDirection"
                    [values]="newBlock.props.axis[item].labelDirectionOptions"
                    (onChanged)="changeAxisXY(newBlock.props.axis[item].labelDirectionOptions[$event], item, 'labelDirection')"
                  >
                  </lx-settings-dropdowns>
                  <lx-slider
                    *ngIf="newBlock.props.axis[item].labelDirection !== '自动' && newBlock.props.axis.axistype !== 'polar'"
                    [min]="newBlock.props.axis[item].labelDirection === '横排' ? -180 : -90"
                    [max]="newBlock.props.axis[item].labelDirection === '横排' ? 180 : 90"
                    [step]=1
                    [cur]='newBlock.props.axis[item].labelAngle'
                    (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeAxisXYSize($event, item, 'labelAngle')">
                  </lx-slider>
                </div>
              </div>
              <!-- 径向轴角度 labelAngle -->
              <div *ngIf="newBlock.props.axis[item].labelShow && axisNameMap[item] === '径向' && newBlock.props.axis[item].labelShow" class="line top-15">
                <div class="small-title left-40">角度</div>
                <div  class="axis-stepOfLabel labelAngle line" [ngClass]="{'active': newBlock.props.axis[item].labelAngle === null}">
                  <lx-settings-dropdowns
                    [isBackgroundColor]="true"
                    [selector]="newBlock.props.axis[item].labelAngle === null ? '自动' : '自定义'"
                    [values]="radialAngleList"
                    (onChanged)="changeAxisXY(radialAngleMap[$event], item, 'labelAngle')">
                  </lx-settings-dropdowns>
                  <lx-slider 
                    *ngIf="newBlock.props.axis[item].labelAngle !== null" 
                    class="stepOfLabel" 
                    [min]="newBlock.props.axis[item].labelDirection === '横排' ? -180 : -90"
                    [max]="newBlock.props.axis[item].labelDirection === '横排' ? 180 : 90"
                    [step]=1
                    [cur]='newBlock.props.axis[item].labelAngle' (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeAxisXYSize($event, item, 'labelAngle')">
                  </lx-slider>
                </div>
              </div>
              <!-- 轴线  axisShow -->
              <div *ngIf="newBlock.props.axis[item].axisShow !== undefined" class="line axis-xy top-15 left-20">
                <lx-input-group
                  [checked]="newBlock.props.axis[item].axisShow" [inputTitle]="'轴线(px)'"
                  (switchValue)="changeAxisXY($event, item, 'axisShow')">
                </lx-input-group>

                <ng-container *ngIf="newBlock.props.axis[item].axisShow">
                  <!-- 轴线宽度 axisLineWidth -->
                  <lx-slider *ngIf="newBlock.props.axis[item].axisLineWidth" [min]=1 [max]=10 [step]=1
                    [cur]='newBlock.props.axis[item].axisLineWidth' (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeAxisXYSize($event, item, 'axisLineWidth')">
                  </lx-slider>

                  <!-- 轴标签颜色 axisColor -->
                  <lx-color-list *ngIf="newBlock.props.axis[item].axisColor" class="left-12" [isOverflow]="true"
                    [themColorList]=newBlock.theme.colors [colorSeleced]="newBlock.props.axis[item].axisColor"
                    (onChanged)="changeAxisXY($event, item, 'axisColor')"></lx-color-list>
                </ng-container>
              </div>
              <!-- 轴坐标位置  axisPositonOptions axisPositonChoice -->
              <div *ngIf="newBlock.props.axis[item].axisPositonOptions !== undefined" class="line top-15">
                <div class="small-title left-20">轴坐标位置</div>
                <div class="axisPositonOptions title-show  line">
                  <lx-settings-dropdowns [values]="newBlock.props.axis[item].axisPositonOptions"
                    [selector]="newBlock.props.axis[item].axisPositonChoice"
                    (onChanged)="changeAxisXY(newBlock.props.axis[item].axisPositonOptions[$event], item, 'axisPositonChoice')"></lx-settings-dropdowns>
                </div>
              </div>
              <!-- 轴标题 name -->
              <div *ngIf="newBlock.props.axis[item].name !== undefined" class="line top-15">
                <div class="small-title left-20">轴标题</div>
                <input type="text" class="form-control width-108"
                  [value]="newBlock.props.axis[item].name" (change)="changeXYProp($event, item, 'name')">
              </div>
              <!-- 刻度间隔 stepOfLabel -->
              <div *ngIf="newBlock.props.axis[item].labelShow && newBlock.props.axis[item].stepOfLabel !== undefined" class="line  top-15">
                <div class="small-title left-20">刻度间隔</div>
                <div  class="axis-stepOfLabel line" [ngClass]="{'active': newBlock.props.axis[item].stepOfLabel === null}">
                  <lx-settings-dropdowns
                    [isBackgroundColor]="true"
                    [selector]="newBlock.props.axis[item].stepOfLabel === null ? '自动' : '自定义'"
                    [values]="stepOfLabelList"
                    (onChanged)="changeAxisXY($event, item, 'stepOfLabel')">
                  </lx-settings-dropdowns>

                  <input  *ngIf="newBlock.props.axis[item].stepOfLabel !== null"
                    type="text" class="form-control padding-0"
                    onkeyup="this.value=this.value.replace(/\D/g,'')"
                    onafterpaste="this.value=this.value.replace(/\D/g,'')"
                    (keypress)="setBlur($event)"
                    [value]="newBlock.props.axis[item].stepOfLabel" (change)="changeXYProp($event, item, 'stepOfLabel')">
                </div>
              </div>
              <!-- 轴范围 range -->
              <div class="data-range  line  top-15" *ngIf="newBlock.props.axis[item].range !== undefined && newBlock.props.axis[item].range !== null">
                <div class="small-title left-20">轴范围</div>
                <div class="grid-axis">
                  <input class="range-input axisNew" type="text" [value]="newBlock.props.axis[item].range[0] || ''" (change)="changeAxisXYMinRange($event, item)">
                  <span class="axisNew"><img src="../../../../../../dyassets/images/setting/line.svg" /></span>
                  <input class="range-input axisNew" type="text" [value]="newBlock.props.axis[item].range[1] || ''" (change)="changeAxisXYMaxRange($event, item)">
                </div>
              </div>
              <!-- 起始角度 startAngle -->
              <div *ngIf="newBlock.props.axis[item].startAngle !== undefined" class="line top-15 relative">
                <div class="small-title left-20">起始角度</div>
                <input type="text" class="form-control width-108"
                  [value]="newBlock.props.axis[item].startAngle" (change)="changeXYProp($event, item, 'startAngle')">
                  <span class="angle">°</span>
              </div>
              <!-- 绘制方向 rotateDirection -->
              <div class="line top-15 grid-line-style" *ngIf="newBlock.props.axis[item].rotateDirection !== undefined">
                <div class="small-title left-20">绘制方向</div>
                <lx-settings-dropdowns
                  [values]="totalAngleList"
                  [isBackgroundColor]="true"
                  [selector]="newBlock.props.axis[item].rotateDirection === 'clockwise' ? '顺时针' : '逆时针'"
                  (onChanged)="changeAxisXY(totalAngleMap[totalAngleList[$event]], item, 'rotateDirection')">
                </lx-settings-dropdowns>
              </div>
              <!-- 绘制角度 totalAngle -->
              <div *ngIf="newBlock.props.axis[item].totalAngle !== undefined" class="line top-15 relative">
                <div class="small-title left-20">绘制角度</div>
                <input type="text" class="form-control width-108"
                  [value]="newBlock.props.axis[item].totalAngle" (change)="changeXYProp($event, item, 'totalAngle')">
                <span class="angle">°</span>
              </div>
            </ng-container>
          </ng-container>

          <!-- 网格线 grid -->
          <ng-container *ngIf="newBlock.props.axis.grid">
            <div class="small-title top-20">网格线</div>
            <!-- 网格线方向 show -->
            <div class="line width-120 top-15 left-20" [ngClass]="{'width-180': newBlock.props.axis.axistype === 'triangle'}" *ngIf="newBlock.props.axis.grid.show !== undefined">
              <lx-input-group
                [checked]="gridXYSet.has('x')"
                [inputTitle]="getGridName(newBlock.props.axis.axistype || 'default', 'x' )"
                (switchValue)="changeGridXYShow($event, 'x')"
              >
              </lx-input-group>
              <lx-input-group
                [checked]="gridXYSet.has('y')"
                [inputTitle]="getGridName(newBlock.props.axis.axistype || 'default', 'y' )" 
                (switchValue)="changeGridXYShow($event, 'y')"
              >
              </lx-input-group>
              <ng-container *ngIf="newBlock.props.axis.axistype === 'triangle'">
                <lx-input-group
                  [checked]="gridXYSet.has('z')"
                  [inputTitle]="getGridName(newBlock.props.axis.axistype || 'default', 'z' )" 
                  (switchValue)="changeGridXYShow($event, 'z')"
                >
                </lx-input-group>
              </ng-container>
            </div>
            <!-- 网格线样式 lineStyle -->
            <div class="line top-15 grid-line-style" *ngIf="newBlock.props.axis.grid.lineStyle !== undefined">
              <div class="small-title left-20">线条样式</div>
              <lx-settings-dropdowns [values]="gridLineStyle"
                [isBackgroundColor]="true"
                [selector]="gridLineStyle[gridLineStyleMap[newBlock.props.axis.grid.lineStyle]]"
                (onChanged)="changeGridLineStyle($event)"></lx-settings-dropdowns>
            </div>

            <!-- 网格线线宽与颜色 -->
            <div class="line top-15 axis-grid">
              <ng-container *ngIf="newBlock.props.axis.grid.gridLineWidth !== undefined">
                <div class="small-title left-20">线宽(px)</div>
                <!-- 轴线宽度 gridLineWidth -->
                <lx-slider [min]=1 [max]=10 [step]=1 [cur]="newBlock.props.axis.grid.gridLineWidth"
                  (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeAxisGrid($event,'gridLineWidth')">
                </lx-slider>
              </ng-container>

              <!-- 轴线颜色 color -->
              <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
                [colorSeleced]="newBlock.props.axis.grid.color" (onChanged)="changeGridColor($event)"></lx-color-list>
            </div>
          </ng-container>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('axis')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 数据格式 -->
      <accordion-group *ngIf="newBlock.props.numberFormat"
        panelClass="accordion-container"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-numberFormat-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="设置显示数据的千位分隔符及小数位数" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">数据格式</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <div class="bottom-15 line separate">
            <div class="small-title">千位分隔符</div>
            <lx-settings-dropdowns class="width-133" [values]='separateArr' [index]='separateIndex'
              (onChanged)='handleNumberTypeChange($event)'></lx-settings-dropdowns>
          </div>
          <div class="line separate">
            <lx-input-group
              [checked]="newBlock.props.numberFormat.decimalPlaces !== null" [inputTitle]="'小数位数'"
              (switchValue)="changeNumberDecimalShow($event)">
            </lx-input-group>

            <lx-slider *ngIf="newBlock.props.numberFormat.decimalPlaces !== null" class="width-133"  [min]=0 [max]=6 [step]=1
              [cur]='2' (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="changeNumberDecimal($event)">
            </lx-slider>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('numberFormat')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 样式 -->
      <accordion-group *ngIf="newBlock.props.display != undefined && newBlock.templateId !== '114473474859453649'"
        panelClass="accordion-container"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-display-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="设置图表细节样式" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">样式</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <div class="bottom-15" [ngClass]="{'bottom-0': last}" *ngFor="let item of displayList; let last = last">
            <lx-switch-setting [name]="item" [value]="newBlock.props.display[item]"
              [data]="newBlock.templateId === '7955555555502346003' ? newBlock.dataSrc : null"
              [themColorList]="newBlock.theme.colors" (valueBlurChange)="handleValueBlurChanged()" (valueChange)="handleDisplay($event, item)"></lx-switch-setting>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('display')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 阴影 -->
      <accordion-group *ngIf="newBlock.props.shadow != undefined"
        panelClass="accordion-container"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-shadow-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="设置图表阴影" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">阴影</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <div class="label-show">
            <lx-checkbox class="switch" [checked]="newBlock.props.shadow.display" (change)="onInput($event,'display')">
            </lx-checkbox>
            <div class="small-title left-8">阴影</div>
          </div>

          <div class="line shadow-opacity top-20" *ngIf="newBlock.props.shadow.display">
            <div>
              <lx-color-list  [themColorList]=newBlock.theme.colors [isOverflow]="true" [colorSeleced] ="newBlock.props.shadow.shadowColor" (onChanged)="onInput($event,'shadowColor')" ></lx-color-list>
              <div class="small-title">颜色</div>
            </div>
            <div>
              <lx-slider [min]=0 [max]=20 [step]=1 [cur]='newBlock.props.shadow.shadowRadius'
                (valueChanged)="onInput($event, 'shadowRadius')"></lx-slider>
              <div class="small-title">距离</div>
            </div>

            <div>                
              <lx-slider [min]=0 [max]=360 [step]=1 [cur]='newBlock.props.shadow.shadowAngle'
                (valueChanged)="onInput($event, 'shadowAngle')"></lx-slider>
                <div class="small-title">角度</div>
            </div>

            <div>                  
              <lx-slider [min]=0 [max]=20 [step]=1 [cur]='newBlock.props.shadow.shadowBlur' (valueChanged)="onInput($event,'shadowBlur')">
              </lx-slider>
              <div class="small-title">模糊</div>
            </div> 
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('shadow')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 图例（词云图无） -->
      <accordion-group panelClass="accordion-container" *ngIf="newBlock.props.legend && !showChartLegend"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-legend-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="颜色所代表内容与指标的说明" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title">图例</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <!-- 开关 -->
          <div class="label-show" [ngClass]="{'bottom-0': !newBlock.props.legend.show}">
            <lx-checkbox [checked]="newBlock.props.legend.show" (change)="legendSwitch($event)"></lx-checkbox>
            <div class="small-title left-8">图例显示</div>
          </div>

          <!-- 图例颜色 -->
          <div class="title-show line" [ngClass]="{'display-none': !newBlock.props.legend.show}">
            <!-- 图例字体 -->
            <lx-settings-dropdowns [values]='titleFamilyList' [loadFont]="true" [index]='getFontFamilyIndex(newBlock.props.legend.fontFamily)' [firstSize]="24"
              (onChanged)='handleChangeLegendFontFamily($event)'></lx-settings-dropdowns>
            <lx-color-list [isOverflow]="true" [themColorList]=newBlock.theme.colors
              [colorSeleced]="getLegendColor(newBlock.props.legend.color)" (onChanged)="handleChangeLegendColor($event)"></lx-color-list>
          </div>

          <div class="title-font line" [ngClass]="{'display-none': !newBlock.props.legend.show}">
            <!-- 图例字号 -->
            <lx-slider [min]=12 [max]=76 [step]=1 [cur]='newBlock.props.legend.fontSize'
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="haneleChangeLegendFontSize($event)">
            </lx-slider>
            <!-- 图例位置 -->
            <lx-settings-dropdowns [values]='legendPosList' [index]='legendPos' (onChanged)="changeLegendPos($event)">
            </lx-settings-dropdowns>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn" (click)="resetHandle('legend')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 动画（表格图表没有） -->
      <accordion-group panelClass="accordion-container"
        *ngIf="!showDynamicChartAnimation"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-animate-unfolded'])">

        <div accordion-heading class="accordion-heading" tooltip="设置图表动态效果或GIF属性" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title">动画</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>

        <div class="accordion-content">

          <div class="animation-box" [ngClass]="{'bottom-0': !newBlock.props.animation.transition}">
            <lx-checkbox class="switch" [checked]="newBlock.props.animation.transition"
              (change)="handleOpenChartAnimation($event)"></lx-checkbox>
            <div class="small-title">动画开关</div>
            <div>
              <div class="preview-button" [ngClass]="{'hidden': !newBlock.props.animation.transition}">
                <!-- <button [disabled]="animationPreviewButtonDisabled" (click)="handleChartPreviewButton()"><img
                    [src]="chartPreviewButtonBackground" alt=""></button> -->
                <button [disabled]="!newBlock.props.animation.transition" (click)="handleChartPreviewButton()">
                  <img [src]="chartPreviewButtonBackground" alt="" />
                  <span>{{chartPreviewButtontitle}}</span>
                </button>
              </div>
            </div>
          </div>

          <div class="theme-list animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div class="small-title left-20">效果</div>
            <lx-settings-dropdowns [values]='animationMoveStyleList' [index]='animationMoveStyleIndex'
              (onChanged)='handleChangeChartAnimationMoveStyle($event)'></lx-settings-dropdowns>
          </div>

          <div class="line top-15 animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div class="small-title left-20">持续（秒） <span title="动画的有效加载时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.animation.duration"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeChartAnimationDuration($event)"></lx-slider>
          </div>

          <div class="line top-15 animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div class="small-title left-20">开始延迟（秒） <span title="动画开始前的等待时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.animation.startDelay"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeChartAnimationStartDelay($event)"></lx-slider>
          </div>

          <div class="line top-15 animation" [ngClass]="{'display-none': !newBlock.props.animation.transition}">
            <div class="small-title left-20">结束延迟（秒） <span title="动画结束后的停滞时间"
                style="cursor: pointer;vertical-align: 1px;"><img src="/dyassets/images/animation-tooltip.svg"
                  alt=""></span></div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.animation.endPause"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeChartAnimationEndPause($event)"></lx-slider>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('animation')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 词云图字号范围 -->
      <accordion-group panelClass="accordion-container" *ngIf='newBlock.templateId === "114473474859453649"'
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-wordcloud-unfolded'])">
        <div accordion-heading class="accordion-heading">
          <div class="accordion-heading-title">显示</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">

          <div class="data-range line">
            <div class="small-title">字号范围</div>
            <div class="grid-axis">
              <input #fontSizeInput class="range-input" type="text" [(ngModel)]="minFontSizeValue"
                (blur)='changeFontSizeMin($event)' (keypress)="formatFontSizeInput($event)">
              <span>-</span>
              <input #fontSizeInput class="range-input" type="text" [(ngModel)]="maxFontSizeValue"
                (blur)='changeFontSizeMax($event)' (keypress)="formatFontSizeInput($event)">
            </div>
          </div>

          <div class="theme-list" style="margin: 20px 0 15px 0;">
            <div class="small-title">形状</div>
            <lx-settings-dropdowns [values]='wordCloudShapeList' [index]='wordCloudShapeIndex'
              (onChanged)="changeWordCloudShape($event)"></lx-settings-dropdowns>
          </div>

          <div class="theme-list">
            <div class="small-title">排列方式</div>
            <lx-settings-dropdowns [values]='wordCloudTextList' [index]='wordCloudTextIndex'
              (onChanged)="changeWordCloudText($event)"></lx-settings-dropdowns>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('wordCloudFontSizeRange')">
            恢复默认设置
          </div>

        </div>
      </accordion-group>

      <!-- 交互提示框 -->
      <accordion-group panelClass="accordion-container" *ngIf="newBlock.templateId !== '7955555555502346001'"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-tooltip-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="鼠标悬停时显示的说明" container="body"
          containerClass="customClass" placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">交互提示框</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">
          <div class="label-show" style="margin-bottom: 0">
            <lx-checkbox class="switch" [checked]="newBlock.props.tooltip" (change)="tooltipSwitch($event)">
            </lx-checkbox>
            <div class="small-title left-8">交互提示框显示</div>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn left-0" (click)="resetHandle('tooltip')">
            恢复默认设置
          </div>
        </div>
      </accordion-group>

      <!-- 表格文字，专有 -->
      <accordion-group panelClass="accordion-container" *ngIf="newBlock.templateId === '7955555555502346001'"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-tooltip-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="" container="body" containerClass="customClass"
          placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">表格文字</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content">

          <div class="theme-list axis addition table-chart-dropdown">
            <lx-settings-dropdowns [index]="tableChartFontFamilyIndex" [values]="titleFamilyList" [loadFont]="true" [firstSize]="24"
              (onChanged)="onTableChartDropDownChanged($event)"></lx-settings-dropdowns>
          </div>

          <div class="line shadow-opacity table-chart-text-font">
            <div class="table-chart-text-color">
              <div class="color-wrap">
                <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList [colorSeleced]="newBlock.props.font.color"
                (onChanged)="onTableChartEventLog($event)"></lx-color-list>
              </div>
              <div class="small-title">颜色</div>
            </div>

            <div>
              <lx-slider [min]=12 [max]=150 [step]=1 [cur]="newBlock.props.font.fontSize || 9"
                (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleTableChartTextInputChange($event, 'fontSize')"></lx-slider>
              <div class="small-title">字号</div>
            </div>

            <div>
              <lx-slider [min]=0.5 [max]=3 [step]=0.1 [cur]="newBlock.props.font.lineHeight || 1"
                (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleTableChartTextInputChange($event, 'lineHeight')"></lx-slider>
              <div class="small-title">行间距</div>
            </div>

            <div>
              <lx-slider [min]=-2 [max]=2 [step]=0.1 [cur]="newBlock.props.font.letterSpacing || 0"
                (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleTableChartTextInputChange($event, 'letterSpacing')"></lx-slider>
              <div class="small-title">字间距</div>
            </div>
          </div>

          <div class="section table-chart-text-style">
            <div tooltip="倾斜" (click)="onTableChartTextStyleClicked(1)" class="text-style-btn"><img
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.italic ? 'icon-i' : 'icon-i-gray'}}.svg"
                alt=""></div>
            <div tooltip="下划线" (click)="onTableChartTextStyleClicked(2)" class="text-style-btn"><img
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.underline ? 'icon-u' : 'icon-u-gray'}}.svg"
                alt=""></div>
            <div tooltip="删除线" (click)="onTableChartTextStyleClicked(3)" class="text-style-btn"><img
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.deleteline ? 'icon-s' : 'icon-s-gray'}}.svg"
                alt=""></div>
            <div tooltip="左对齐" (click)="onTableChartTextStyleClicked(4)" class="text-style-btn"><img
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.align == 'left' ? 'icon-left' : 'icon-left-gray'}}.svg"
                alt=""></div>
            <div tooltip="文字居中" (click)="onTableChartTextStyleClicked(5)" class="text-style-btn"><img
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.align == 'center' ? 'icon-center' : 'icon-center-gray'}}.svg"
                alt=""></div>
            <div tooltip="右对齐" (click)="onTableChartTextStyleClicked(6)" class="text-style-btn"><img
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.align == 'right' ? 'icon-right' : 'icon-right-gray'}}.svg"
                alt=""></div>
            <div tooltip="分散" (click)="onTableChartTextStyleClicked(7)" class="text-style-btn"><img
                style="width: 16px;"
                src="/dyassets/images/setting/{{newBlock.props.font.basic?.align == 'justify' ? 'icon-equal' : 'icon-equal-gray'}}.svg"
                alt=""></div>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn top-20 left-0" (click)="resetHandle('table-chart-text')">
            恢复默认设置
          </div>

        </div>
      </accordion-group>

      <!-- 表格属性，专有 -->
      <accordion-group panelClass="accordion-container" *ngIf="newBlock.templateId === '7955555555502346001'"
        onclick="_hmt.push(['_trackEvent', 'editpage', 'edit-desktop', 'edit-right-chart-tooltip-unfolded'])">
        <div accordion-heading class="accordion-heading" tooltip="" container="body" containerClass="customClass"
          placement="left">
          <div container="body" class="accordion-heading-title" class="accordion-heading-title">表格属性</div>
          <img src="/dyassets/images/setting/settings-arrow.svg" class="accordion-heading-arrow">
        </div>
        <div class="accordion-content table-chart-props-setting">
          <!-- 列宽模式 -->
          <div class="col-mode line" [ngClass]="{'active': newBlock.props.table.columnStyle == 'equalwidth'}">
            <div class="small-title">列宽模式</div>
            <lx-settings-dropdowns [values]='colModeStyle' [index]='colModeIndex'
              (onChanged)="handleColModeChange($event)"></lx-settings-dropdowns>
            <lx-slider
              *ngIf="newBlock.props.table.columnStyle === 'equalwidth'"
              [min]=0
              [max]=6000
              [step]=1
              [cur]="colModeWidth"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleColModeWidthChange($event)"
            ></lx-slider>
          </div>
          <!-- 数据区域 -->
          <div class="theme-list" [ngClass]="{'active': newBlock.props.table.rowColorType === 'double'}">
            <div class="small-title">数据区域</div>
            <lx-settings-dropdowns [values]='headerColorList' [index]='headerColorListIndex'
              (onChanged)="handleChangeDataListRange($event)"></lx-settings-dropdowns>
            <div class="table-chart-color-wrap">
              <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList 
                [colorSeleced]="newBlock.props.table.rowColor[0]"
                (onChanged)="handleDataAreaColor($event, 0)"></lx-color-list>
            </div>
            <div class="table-chart-color-wrap" *ngIf="newBlock.props.table.rowColorType === 'double'">
              <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList 
                [colorSeleced]="newBlock.props.table.rowColor[1]"
                (onChanged)="handleDataAreaColor($event, 1)"></lx-color-list>
            </div>
          </div>
          <!-- 首行颜色 -->
          <div class="table-chart-switch">
            <div class="label-show" style="margin-bottom: 0">
              <lx-checkbox class="switch" 
                [checked]="newBlock.props.table.headRow.show" 
                (change)="handleFirstColRowToggle($event, 'headRow')">
              </lx-checkbox>
              <div class="small-title left-8">首行颜色</div>
            </div>
            <ng-container *ngIf="newBlock.props.table.headRow.show">
              <div class="color-wrap">
                <div class="color-item">
                  <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList
                    [colorSeleced]="newBlock.props.table.headRow.bgColor"
                    (onChanged)="handleFirstColRowColowrChange($event, 'headRow', 'bgColor')"></lx-color-list>
                </div>
                <div>底色</div>
              </div>
              <div class="color-wrap">
                <div class="color-item">
                  <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList
                    [colorSeleced]="newBlock.props.table.headRow.fontColor"
                    (onChanged)="handleFirstColRowColowrChange($event, 'headRow', 'fontColor')"></lx-color-list>
                </div>
                <div>文字</div>
              </div>
            </ng-container>
          </div>
          <!-- 首列颜色 -->
          <div class="table-chart-switch">
            <div class="label-show" style="margin-bottom: 0">
              <lx-checkbox class="switch" 
                [checked]="newBlock.props.table.firstCol.show" 
                (change)="handleFirstColRowToggle($event, 'firstCol')">
              </lx-checkbox>
              <div class="small-title left-8">首列颜色</div>
            </div>
            <ng-container *ngIf="newBlock.props.table.firstCol.show">
              <div class="color-wrap">
                <div class="color-item">
                  <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList
                    [colorSeleced]="newBlock.props.table.firstCol.bgColor ? newBlock.props.table.firstCol.bgColor : '#E8E8E8'"
                    (onChanged)="handleFirstColRowColowrChange($event, 'firstCol', 'bgColor')"></lx-color-list>
                </div>
                <div>底色</div>
              </div>
              <div class="color-wrap">
                <div class="color-item">
                  <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList
                    [colorSeleced]="newBlock.props.table.firstCol.fontColor ? newBlock.props.table.firstCol.fontColor : '#E8E8E8'"
                    (onChanged)="handleFirstColRowColowrChange($event, 'firstCol', 'fontColor')"></lx-color-list>
                </div>
                <div>文字</div>
              </div>
            </ng-container>
          </div>
          <!-- <div class="accordion-content table-chart-switch">
            <div class="label-show" style="margin-bottom: 0">
              <lx-checkbox class="switch" [checked]="newBlock.props.table.equalWidth" (change)="handleShowEqualWidth($event)">
              </lx-checkbox>
              <div class="small-title left-8">列宽相等</div>
            </div>
          </div> -->
          <!-- 线宽 -->
          <div class="table-chart-color-group">
            <div class="small-title">边框线</div>
            <lx-slider [min]=0 [max]=10 [step]=1 [cur]="newBlock.props.table.strokeWidth"
              (valueBlurChanged)="handleValueBlurChanged($event)" (valueChanged)="handleChangeBorderWidth($event)"></lx-slider>
            <div class="table-chart-color-wrap">
              <lx-color-list [isOverflow]="true" [themColorList]=tableChartThemeColorList [colorSeleced]="newBlock.props.table.strokeColor"
                (onChanged)="handleChangeBorderColor($event)"></lx-color-list>
            </div>
          </div>

          <!-- 重置按钮 -->
          <div class="reset-btn top-20 left-0" (click)="resetHandle('table-chart-style')">
            恢复默认设置
          </div>

        </div>

      </accordion-group>


    </accordion>
  </div>

</div>